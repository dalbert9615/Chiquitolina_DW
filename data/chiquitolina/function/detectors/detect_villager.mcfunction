# Comando para añadir una etiqueta al aldeano modificado
execute as @e[type=minecraft:villager,nbt={CustomName:"\"Dwarf\"",VillagerData:{profession:"minecraft:librarian"}}] run tag @s add renamed_dwarf

# Detectar aldeano "Dwarf" y transformarlo
execute as @e[type=minecraft:villager,nbt={CustomName:"\"Dwarf\"",VillagerData:{profession:"minecraft:librarian"}}] run data merge entity @s {Silent:1b,Invulnerable:1b,CustomName:'{"bold":true,"color":"white","text":"Dwarf"}',attributes:[{id:"minecraft:generic.movement_speed",base:0}],VillagerData:{level:99,profession:"minecraft:librarian",type:"minecraft:taiga"},Offers:{Recipes:[{maxUses:999999,buy:{id:"minecraft:emerald",count:13},buyB:{id:"minecraft:bread",count:1},sell:{id:"minecraft:bread",count:1,components:{"minecraft:item_name":'{"bold":true,"color":"red","text":"CHIQUITOLINA"}',"minecraft:lore":['{"color":"gray","italic":true,"text":"Extraña masa que compacta todo el valor del usuario"}'],"minecraft:rarity":"epic","minecraft:enchantment_glint_override":true}}},{maxUses:999999,buy:{id:"minecraft:emerald",count:13},buyB:{id:"minecraft:melon_slice",count:1},sell:{id:"minecraft:melon_slice",count:1,components:{"minecraft:item_name":'{"bold":true,"color":"blue","text":"ANTI CHIQUITOLINA"}',"minecraft:lore":['{"color":"gray","italic":true,"text":"Cura del increíble poder de la Chiquitolina"}'],"minecraft:rarity":"epic","minecraft:enchantment_glint_override":true}}},{maxUses:999999,buy:{id:"minecraft:emerald",count:13},buyB:{id:"minecraft:pumpkin_pie",count:1},sell:{id:"minecraft:pumpkin_pie",components:{"minecraft:item_name":'{"bold":true,"color":"dark_purple","text":"GIGANTOLINA"}',"minecraft:lore":['{"color":"gray","italic":true,"text":"Curioso pastel que engrande todo el valor del usuario"}'],"minecraft:rarity":"epic","minecraft:enchantment_glint_override":true}}},{maxUses:999999,buy:{id:"minecraft:emerald",count:13},buyB:{id:"minecraft:cookie",count:1},sell:{id:"minecraft:cookie",components:{"minecraft:item_name":'{"bold":true,"color":"yellow","text":"ANTI GIGANTOLINA"}',"minecraft:lore":['{"color":"gray","italic":true,"text":"Cura del increíble poder de la Gigantolina"}'],"minecraft:rarity":"epic","minecraft:enchantment_glint_override":true}}},{maxUses:999999,buy:{id:"minecraft:potion",count:1,components:{"minecraft:potion_contents":{potion:"minecraft:long_night_vision"}}},buyB:{id:"minecraft:emerald",count:64},sell:{id:"minecraft:potion",count:1,components:{"minecraft:custom_name":'{"bold":true,"color":"green","text":"Ultra Nigh Vision"}',"minecraft:enchantment_glint_override":true,"minecraft:potion_contents":{custom_color:7667550,custom_effects:[{id:"minecraft:night_vision",amplifier:0,duration:72000}]}}}},{maxUses:999999,buy:{id:"minecraft:diamond_pickaxe",count:1,components:{"minecraft:enchantments":{levels:{"minecraft:efficiency":5}}}},buyB:{id:"minecraft:iron_block",count:64},sell:{id:"minecraft:potion",count:1,components:{"minecraft:custom_name":'{"bold":true,"color":"yellow","italic":false,"text":"Quarry"}',"minecraft:lore":['{"color":"white","italic":false,"text":"Dilata las pupilas y acelera el corazón."}'],"minecraft:enchantment_glint_override":true,"minecraft:potion_contents":{custom_color:12564069,custom_effects:[{id:"minecraft:haste",amplifier:1,duration:72000,show_particles:0b,show_icon:1b}]}}}},{maxUses:999999,buy:{id:"minecraft:diamond",count:10},buyB:{id:"minecraft:apple",count:32},sell:{id:"minecraft:apple",count:1,components:{"minecraft:custom_name":'{"bold":true,"color":"red","text":"Gran Manzana de ADAN"}',"minecraft:lore":['{"color":"white","italic":true,"text":"Una fruta prohibida que otorga un gran poder."}','{"color":"blue","italic":false,"text":"Fuerza II (00:30:00)"}'],"minecraft:rarity":"epic","minecraft:enchantment_glint_override":true,"minecraft:food":{nutrition:1,saturation:1,can_always_eat:true,effects:[{effect:{id:"minecraft:strength",amplifier:2,duration:36000,show_particles:1b,show_icon:1b},probability:1}]}}}}]}}

# Otorgar el logro al jugador si el aldeano tiene la etiqueta
execute as @e[type=minecraft:villager,tag=renamed_dwarf] at @s run advancement grant @p[distance=..10] only chiquitolina:rename_dwarf




